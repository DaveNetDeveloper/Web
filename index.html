<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo de llamada a API con parámetro</title>
</head>
<body>

    <h1>Usuarios</h1>
    <ul id="lista-usuarios"></ul>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // URL del servicio web
            const apiUrl = 'https://localhost:7161/Usuarios/ObtenerUsuario';
            const parametroId = 1;

            // Construir la URL con el parámetro de la query
            const urlConParametro = `${apiUrl}/${parametroId}`;

            // Realizar una solicitud GET a la API con el parámetro
            fetch(urlConParametro)
                .then(response => {
                    // Verificar si la solicitud fue exitosa (código de respuesta 200)
                    if (!response.ok) {
                        throw new Error(`Error en la solicitud: ${response.status}`);
                    }
                    return response.json();
                })
                .then(usuario => {
                    const listaUsuarios = document.getElementById('lista-usuarios');
                    //data.forEach(usuario => {
                        const listItem = document.createElement('li');
                        listItem.textContent = `${usuario.id}: ${usuario.nombre}`;
                        listaUsuarios.appendChild(listItem);
                    //});
                })
                .catch(error => {
                    // Manejar errores de la solicitud
                    console.error('Error al recuperar datos:', error.message);
                });
        });
    </script>
</body>
</html>
